\subsection{Modelo Relacional}

\textbf{Notacion:}
\begin{itemize}
	\item \pk{Primary Key} 
	\item \fk{Not Nullable Foreign Key}
	\item \nullableFk{Nullable Foreign Key}
	\item Not Nullable Atribute
	\item \nullableAtribute{Nullable Atribute}
\end{itemize}

\vspace{2mm}
\textbf{Entidades:}
\vspace{1mm}

\begin{itemize}
	\item \textbf{Eleccion} (\pk{idEleccion}, Fecha, Tipo) 
	\begin{itemize}
		\item PK = CK = \{idEleccion\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Eleccion\_Consulta\_Popular} (\pk{\fk{idEleccion}}, Descripcion) 
	\begin{itemize}
		\item PK = CK = FK = \{idEleccion\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Provincia} (\pk{idProvincia}, Nombre) 
	\begin{itemize}
		\item PK = CK = \{idProvincia\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Municipio} (\pk{idMunicipio}, Nombre, \fk{idProvincia}) 
	\begin{itemize}
		\item PK = CK = \{idMunicipio\}
		\item FK = \{idProvincia\}
	\end{itemize}
	\vspace{1mm}


	\item \textbf{Eleccion\_Cargo\_Municipal} ((\fk{\pk{idEleccion}}, \fk{idMunicipio}) 
	\begin{itemize}
		\item PK = CK = \{idEleccion\}
		\item FK = \{idEleccion, idMunicipio\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Eleccion\_Cargo\_Provincial} ((\fk{\pk{idEleccion}}, \fk{idProvincia}) 
	\begin{itemize}
		\item PK = CK = \{idEleccion\}
		\item FK = \{idEleccion, idProvincia\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Eleccion\_Cargo\_Legislativo} ((\fk{\pk{idEleccion}}, \fk{idProvincia}) 
	\begin{itemize}
		\item PK = CK = \{idEleccion\}
		\item FK = \{idEleccion, idProvincia\}
	\end{itemize}
	\vspace{1mm}
	 

	\item \textbf{Voto} (\pk{idVoto}, \fk{idMesa}, Tipo) 
	\begin{itemize}
		\item PK = CK = \{idVoto\}
		\item FK = \{idMesa\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Voto\_A\_Candidato} (\pk{idVoto}, \fk{DNI}) 
	\begin{itemize}
		\item PK = CK = \{idVoto\}
		\item FK = \{idVoto, DNI (references Candidato on DNI)\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Ciudadano} (\pk{DNI}, Nombre, Apellido, \fk{idMesa}, \nullableAtribute{selloVoto}) 
	\begin{itemize}
		\item PK = CK = \{DNI\}
		\item FK = \{idMesa\}
		\item \textbf{Nota:} selloVoto es de tipo fecha/hora, puede ser nulo y por defecto comienza siendo nulo.
	\end{itemize}
	\vspace{1mm}


	\item \textbf{Fiscal\_Partidario} (\pk{DNI}, \fk{idPartido}) 
	\begin{itemize}
		\item PK = CK = \{DNI\}
		\item FK = \{idPartido\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Candidato} (\pk{\fk{DNI}}) 
	\begin{itemize}
		\item PK = CK = \{DNI\}
		\item FK = \{DNI references Ciudadano on DNI\}
	\end{itemize}
	\vspace{1mm}


	\item \textbf{Partido\_Politico} (\pk{idPartido}, Nombre) 
	\begin{itemize}
		\item PK = CK = \{idPartido\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Camion} (\pk{Patente}, \fk{idConductor}) 
	\begin{itemize}
		\item PK = CK = \{Patente\}
		\item FK = \{idConductor (references Ciudadano on DNI)\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Centro} (\pk{idCentro}, Nombre\_Establecimiento, Direccion) 
	\begin{itemize}
		\item PK = CK = \{idCentro\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Maquina} (\pk{idMaquina}, \fk{idMesa}, \fk{idTecnico}) 
	\begin{itemize}
		\item PK = CK = \{idMaquina\}
		\item FK = \{idMesa, idTecnico (references Ciudadano on DNI)\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Mesa} (\pk{idMesa}, nroMesa, \fk{idPresidente}, \fk{idVicepresidente}, \fk{idEleccion}, \fk{idCentro}) 
	\begin{itemize}
		\item PK = CK = \{idMesa\}
		\item FK = \{idPresidente (references Ciudadano on DNI), idVicepresidente (references Ciudadano on DNI), idEleccion, idCentro\}
	\end{itemize}
	\vspace{1mm}

\end{itemize}
		
\vspace{2mm}
\textbf{Relaciones:}
\vspace{1mm}

\begin{itemize}
	
	\item \textbf{Camion\_Centro} (\pk{\fk{patente}, \fk{idCentro}}) 
	\begin{itemize}
		\item PK = CK = \{(patente, idCentro)\}
		\item FK = \{patente, idCentro\}
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Fiscales} (\pk{\fk{DNI}, \fk{idMesa}}) 
	\begin{itemize}
		\item PK = CK = \{(DNI, idMesa)\}
		\item FK = \{idMesa, DNI  (references Ciudadano on DNI)\}
		\item \textbf{Nota:} Puede haber mesas sin fiscal. Mesa participa parcialmente en esta relacion.
	\end{itemize}
	\vspace{1mm}

	\item \textbf{Postulaciones} (\pk{\fk{idEleccion}, \fk{DNI}}, \fk{idPartido}) 
	\begin{itemize}
		\item CK = \{(idEleccion, DNI), (idEleccion, idPartido)\}
		\item PK = CK = \{(idEleccion, DNI)\}
		\item FK = \{idEleccion, idPartido, DNI (references Candidato on DNI)\}
	\end{itemize}
	\vspace{1mm}

\end{itemize}

\textbf{Notas:} 
\begin{itemize}
	\item Todos los atributos en negro son no nullables.
	\item Las \pk{Primary Keys} del modelo fisico, no son autoincrement(identity) por motivos de testing.
	\item Todas las relaciones son de participacion total salvo que se explicite lo contrario.
	\item En la doble especializacion de voto por la rama de consulta popular, consideramos innecesario crear la tabla A\_Plesbicito con el campo tipo que indica si el voto es por Si o por No, pues es mas sencillo directamente especializar en el nivel superior, que un voto puede ser de 3 tipos:
	\begin{itemize}
		\item A Candidato
		\item A Consulta Popular, A favor
		\item A Consulta Popular, En contra
	\end{itemize}


\end{itemize}



